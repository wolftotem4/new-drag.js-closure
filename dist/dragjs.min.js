(function(){function k(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:k(a)}}var m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,n="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function p(a){if(a){for(var b=m,c=["Promise"],d=0;d<c.length-1;d++){var e=c[d];e in b||(b[e]={});b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&n(b,c,{configurable:!0,writable:!0,value:a})}}
p(function(a){function b(a){this.b=0;this.g=void 0;this.a=[];var b=this.c();try{a(b.resolve,b.reject)}catch(h){b.reject(h)}}function c(){this.a=null}function d(a){return a instanceof b?a:new b(function(b){b(a)})}if(a)return a;c.prototype.b=function(a){null==this.a&&(this.a=[],this.f());this.a.push(a)};c.prototype.f=function(){var a=this;this.c(function(){a.h()})};var e=m.setTimeout;c.prototype.c=function(a){e(a,0)};c.prototype.h=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=
0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(f){this.g(f)}}}this.a=null};c.prototype.g=function(a){this.c(function(){throw a;})};b.prototype.c=function(){function a(a){return function(g){c||(c=!0,a.call(b,g))}}var b=this,c=!1;return{resolve:a(this.u),reject:a(this.f)}};b.prototype.u=function(a){if(a===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.v(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=
!1}c?this.o(a):this.h(a)}};b.prototype.o=function(a){var b=void 0;try{b=a.then}catch(h){this.f(h);return}"function"==typeof b?this.w(b,a):this.h(a)};b.prototype.f=function(a){this.j(2,a)};b.prototype.h=function(a){this.j(1,a)};b.prototype.j=function(a,b){if(0!=this.b)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.b);this.b=a;this.g=b;this.m()};b.prototype.m=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)t.b(this.a[a]);this.a=null}};var t=new c;b.prototype.v=
function(a){var b=this.c();a.i(b.resolve,b.reject)};b.prototype.w=function(a,b){var c=this.c();try{a.call(b,c.resolve,c.reject)}catch(f){c.reject(f)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(B){g(B)}}:b}var f,g,e=new b(function(a,b){f=a;g=b});this.i(d(a,f),d(c,g));return e};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.i=function(a,b){function c(){switch(d.b){case 1:a(d.g);break;case 2:b(d.g);break;default:throw Error("Unexpected state: "+
d.b);}}var d=this;null==this.a?t.b(c):this.a.push(c)};b.resolve=d;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,c){for(var e=l(a),h=e.next();!h.done;h=e.next())d(h.value).i(b,c)})};b.all=function(a){var c=l(a),e=c.next();return e.done?d([]):new b(function(a,b){function h(b){return function(c){f[b]=c;g--;0==g&&a(f)}}var f=[],g=0;do f.push(void 0),g++,d(e.value).i(h(f.length-1),b),e=c.next();while(!e.done)})};return b});var q=this;
function r(a,b){a=a.split(".");var c=q;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};r("DragJs.isSupported",function(){return"undefined"!==typeof FileList});function u(a,b){return Promise.all(a.map(function(a){return a.isFile?[v(a,b)]:w(a,b)})).then(function(a){return Array.prototype.concat.apply([],a)})}function v(a,b){return x(a).then(function(a){a.xRelativePath=b+a.name;return a})}function x(a){return new Promise(function(b,c){return a.file(b,c)})}function w(a,b){return y(a.createReader()).then(function(c){return u(c,b+a.name+"/")})}
function y(a){return new Promise(function(b,c){a.readEntries(function(d){d.length?y(a).then(function(a){b(d.concat(a))},c):b([])},c)})};function z(a){this.a=a}function A(a){if(!a.a)return Promise.resolve([]);a=a.a;if(a.items){a=a.items;for(var b=[],c=0;c<a.length;c++){var d=a[c].webkitGetAsEntry();d&&b.push(d)}a=u(b,"")}else a=Promise.resolve(a.files);return a};function C(a){this.a=a;this.b=0}C.prototype.g=function(a){if(a=D(a))a.dropEffect="copy"};C.prototype.c=function(a){D(a)&&0==this.b++&&this.a.dispatchEvent(new CustomEvent("dropzone-dragenter"))};C.prototype.f=function(a){D(a)&&0==--this.b&&E(this)};function E(a){a.a.dispatchEvent(new CustomEvent("dropzone-dragleave"))}
C.prototype.h=function(a){var b=this;if(a=D(a))this.b=0,E(this),A(new z(a)).then(function(a){a.length&&b.a.dispatchEvent(new CustomEvent("dropzone-drop",{detail:{files:a}}))},function(a){b.a.dispatchEvent(new CustomEvent("dropzone-drop",{cancelable:!0,detail:{reason:a}}))&&console.error(a)})};function D(a){var b=a instanceof DragEvent?a.dataTransfer||null:null,c;if(c=b)c=(c=b.types)?c instanceof DOMStringList?c.contains("Files"):-1<c.indexOf("Files"):!0;return c?(a.preventDefault(),b):null};function F(a,b){this.a=a;this.b=b}function G(a){a.a.addEventListener("dropzone-dragenter",function(){var b=H(a),c=a.a.className?a.a.className.split(" ")||[]:[];-1==c.indexOf(b)&&(c.push(b),a.a.className=c.join(" "))},!1);a.a.addEventListener("dropzone-dragleave",function(){var b=a.a.className?a.a.className.split(" ")||[]:[],c;-1<(c=b.indexOf(H(a)))&&(b.splice(c,1),a.a.className=b.join(" "))},!1)}function H(a){return a.b.cssClass&&a.b.cssClass.dragover||"is-dragover"};function I(a,b){b=void 0===b?{}:b;this.a=a;this.c=new C(a);this.b=new F(a,b);a=this.c;a.a.addEventListener("dragover",a.g.bind(a),!1);a.a.addEventListener("dragenter",a.c.bind(a),!1);a.a.addEventListener("dragleave",a.f.bind(a),!1);a.a.addEventListener("drop",a.h.bind(a),!1);G(this.b)}r("DragJs.DropZone",I);
I.prototype.s=function(a,b){this.a.addEventListener("dropzone-drop",function(b){a(b.detail.files)},!1);b&&this.a.addEventListener("dropzone-error",function(a){a.preventDefault();b(a.detail.reason)});return this};I.prototype.listenOnDrop=I.prototype.s;I.prototype.l=function(){var a=this;return new Promise(function(b){a.a.addEventListener("dropzone-drop",function(a){b(a.detail.files)},!1)})};I.prototype.getDropFiles=I.prototype.l;r("DragJs.utils.toFormData",function(a,b){b=void 0===b?"files[]":b;var c=new FormData;if(a instanceof File)c.append(b,a,J(a));else for(var d=0;d<a.length;d++){var e=a[d];c.append(b,e,J(e))}return c});function J(a){return a.xRelativePath||a.webkitRelativePath||a.name}r("DragJs.utils.relativePath",J);}).call(this)